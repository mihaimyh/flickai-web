---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getTranslations } from '../utils/i18n';
import { buildPageSchema } from '../utils/schema';

const translations = getTranslations('en');
const terms = translations.terms || {};
const pageUrl = 'https://flickai.net/terms-of-service.html';
const breadcrumbs = [
  { name: 'FlickAI', url: 'https://flickai.net/' },
  { name: terms.heading || 'Terms of Service', url: pageUrl }
];
const schema = buildPageSchema(pageUrl, terms.title || 'Terms of Service', terms.description || '', 'en', breadcrumbs);
---

<BaseLayout
  title={terms.title || 'Terms of Service - FlickAI | Legal'}
  description={terms.description || ''}
  keywords={translations.home?.keywords || ''}
  lang="en"
  translations={translations}
>
  <Fragment slot="head">
    <script type="application/ld+json" set:html={JSON.stringify(schema)} />
    <meta name="robots" content="noindex, follow" />
  </Fragment>

  <main class="container section">
    <h1 class="section-title">{terms.heading || 'Terms of Service'}</h1>
    <div class="legal-content">
      {terms.lastUpdated && <p class="mb-4">{terms.lastUpdated}</p>}

      {terms.agreement && terms.agreement.title && (
        <>
          <h2 class="mb-4">{terms.agreement.title}</h2>
          {terms.agreement.content && <p class="mb-4">{terms.agreement.content}</p>}
        </>
      )}

      {terms.intellectual && terms.intellectual.title && (
        <>
          <h2 class="mb-4">{terms.intellectual.title}</h2>
          {terms.intellectual.content && <p class="mb-4">{terms.intellectual.content}</p>}
        </>
      )}

      {terms.userRep && terms.userRep.title && (
        <>
          <h2 class="mb-4">{terms.userRep.title}</h2>
          {terms.userRep.content && <p class="mb-4">{terms.userRep.content}</p>}
        </>
      )}

      {terms.prohibited && terms.prohibited.title && (
        <>
          <h2 class="mb-4">{terms.prohibited.title}</h2>
          {terms.prohibited.content && <p class="mb-4">{terms.prohibited.content}</p>}
        </>
      )}

      {terms.contact && terms.contact.title && (
        <>
          <h2 class="mb-4">{terms.contact.title}</h2>
          {terms.contact.content && <p class="mb-4">{terms.contact.content}</p>}
        </>
      )}
    </div>
  </main>
</BaseLayout>
