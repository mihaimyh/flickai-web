---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getTranslations, getLangPrefix } from '../utils/i18n';
import { buildPageSchema } from '../utils/schema';

const translations = getTranslations('en');
const privacy = translations.privacy || {};
const langPrefix = '';
const pageUrl = 'https://flickai.net/privacy-policy.html';
const breadcrumbs = [
  { name: 'FlickAI', url: 'https://flickai.net/' },
  { name: privacy.heading || 'Privacy Policy', url: pageUrl }
];
const schema = buildPageSchema(pageUrl, privacy.title || 'Privacy Policy', privacy.description || '', 'en', breadcrumbs);
---

<BaseLayout
  title={privacy.title || 'Privacy Policy - FlickAI | Legal'}
  description={privacy.description || ''}
  keywords={translations.home?.keywords || ''}
  lang="en"
  translations={translations}
>
  <Fragment slot="head">
    <script type="application/ld+json" set:html={JSON.stringify(schema)} />
    <meta name="robots" content="noindex, follow" />
  </Fragment>

  <main class="container section">
    <h1 class="section-title">{privacy.heading || 'Privacy Policy'}</h1>
    <div class="legal-content">
      {privacy.lastUpdated && <p class="mb-4">{privacy.lastUpdated}</p>}

      {privacy.introduction && privacy.introduction.title && (
        <>
          <h2 class="mb-4">{privacy.introduction.title}</h2>
          {privacy.introduction.content && <p class="mb-4">{privacy.introduction.content}</p>}
        </>
      )}

      {privacy.dataCollection && privacy.dataCollection.title && (
        <>
          <h2 class="mb-4">{privacy.dataCollection.title}</h2>
          {privacy.dataCollection.intro && <p class="mb-4">{privacy.dataCollection.intro}</p>}
          <ul class="mb-4" style="padding-left: 1.5rem;">
            {privacy.dataCollection.identity && <li><strong>{privacy.dataCollection.identity}</strong></li>}
            {privacy.dataCollection.contact && <li><strong>{privacy.dataCollection.contact}</strong></li>}
            {privacy.dataCollection.transaction && <li><strong>{privacy.dataCollection.transaction}</strong></li>}
            {privacy.dataCollection.usage && <li><strong>{privacy.dataCollection.usage}</strong></li>}
          </ul>
        </>
      )}

      {privacy.dataUsage && privacy.dataUsage.title && (
        <>
          <h2 class="mb-4">{privacy.dataUsage.title}</h2>
          {privacy.dataUsage.intro && <p class="mb-4">{privacy.dataUsage.intro}</p>}
          <ul class="mb-4" style="padding-left: 1.5rem;">
            {privacy.dataUsage.contract && <li>{privacy.dataUsage.contract}</li>}
            {privacy.dataUsage.legitimate && <li>{privacy.dataUsage.legitimate}</li>}
            {privacy.dataUsage.legal && <li>{privacy.dataUsage.legal}</li>}
          </ul>
        </>
      )}

      {privacy.security && privacy.security.title && (
        <>
          <h2 class="mb-4">{privacy.security.title}</h2>
          {privacy.security.content && <p class="mb-4">{privacy.security.content}</p>}
        </>
      )}

      {privacy.contact && privacy.contact.title && (
        <>
          <h2 class="mb-4">{privacy.contact.title}</h2>
          {privacy.contact.content && <p class="mb-4">{privacy.contact.content}</p>}
        </>
      )}
    </div>
  </main>
</BaseLayout>
